<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>PixenaChess AI</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="libs/chessboard-1.0.0.min.css">
</head>
<body>
  <div class="warning" id="warning" style="display:none">
    Библиотеки не найдены. Сайт будет работать с ограничениями.
  </div>
  <div class="container" id="app" style="display:none">
    <header class="top">
      <div class="left">
        <div class="logo">♟️ PixenaChess AI [ 500 ELO ] </div>
        <div class="tagline">Простой, понятный локальный движок. Примечание: AI может не всегда делать оптимальные ходы. Он НЕ учится на ваших партиях, поскольку это лишь прототип имеющий одну цель: поставить под удар вашего короля.</div>
      </div>
  <div class="right">
    <label class="label-inline switch">
      <input type="checkbox" id="aiWhite">
      <span class="slider"></span>
      <span class="switch-label">Вы за чёрных</span>
    </label>
    <button id="newGame" class="btn btn-primary">Новая партия</button>
    <button id="undo" class="btn btn-secondary">Отменить ход</button>
  </div>
    </header>
    <main class="main">
      <div class="board-card">
        <div id="board" class="board"></div>
        <div class="players">
          <div class="player"><div class="name">Аноним</div><div class="role">Вы</div></div>
          <div class="player"><div class="name">PixenaChess AI</div><div class="role">Противник</div></div>
        </div>
      </div>
      <aside class="side">
        <section class="panel">
          <h3>Ходы</h3>
          <div id="moves" class="moves"></div>
        </section>
        <section class="panel">
          <h3>Статус</h3>
          <div id="status" class="status">Готов</div>
        </section>
        <section class="panel small">
          <h3>Лог</h3>
          <div id="log" class="log"></div>
        </section>
      </aside>
    </main>
    <footer class="footer">Автор: Рустем Эмир-Велиев · MIT</footer>
  </div>

  <script>
    function libsAvailable(){
      return window.jQuery && window.Chess && window.Chessboard
    }
    function showWarning(){
      document.getElementById('warning').style.display = 'block'
      document.getElementById('app').style.display = 'none'
    }
    function showApp(){
      document.getElementById('warning').style.display = 'none'
      document.getElementById('app').style.display = 'block'
    }
  </script>

  <script src="libs/jquery-3.6.0.min.js"></script>
  <script src="libs/chess.min.js"></script>
  <script src="libs/chessboard-1.0.0.min.js"></script>
  <script src="js/pixena.js"></script>
  <script src="js/app.js"></script>
  <script>
    if(libsAvailable()){
      showApp();
    } else {
      showWarning();
    }
  </script>
</body>
</html>